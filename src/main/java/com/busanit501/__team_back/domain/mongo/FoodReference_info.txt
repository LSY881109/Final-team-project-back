# FoodReference 모델 사용법 및 JSON 구조

## 1. FoodReference 사용법

`FoodReference` 모델은 AI가 분석한 음식에 대한 영양 정보(칼로리, 단백질 등)의 "원본 데이터" 또는 "마스터 데이터" 역할을 합니다. 일종의 음식 영양 정보 사전으로 생각할 수 있습니다.

### 데이터 흐름:
1.  **데이터 관리:** 개발자 또는 관리자가 백엔드에서 `food_references` 컬렉션에 음식과 그에 해당하는 영양 정보를 미리 저장해 둡니다.
    
2.  **서비스에서의 조회:** `AIAnalysisService`에서 AI가 음식 이름(예: "된장찌개")을 분석해내면, 해당 이름을 사용해 `FoodReferenceRepository`를 조회합니다.
    -   `repository.findByFoodName("된장찌개")` 와 같은 형태로 호출합니다.

3.  **데이터 복사:** 조회에 성공하면, `FoodReference`에 담겨있는 `nutritionData` 객체를 `AnalysisResults` 문서(사용자의 실제 검색 결과)를 생성할 때 **복사하여** 저장합니다.
    -   이 과정을 통해, 사용자의 검색 기록을 조회할 때 추가적인 DB 조회를 피하고 빠른 응답 속도를 보장합니다.

---

## 2. MongoDB에 저장되는 JSON 구조 예시

`food_references` 컬렉션에는 아래와 같은 형식의 문서(Document)들이 저장됩니다.

### 예시: "된장찌개"

```json
{
  "_id": ObjectId("6720a4f9e4b0a3f8e8a1b2c3"),
  "foodName": "된장찌개",
  "nutritionData": {
    "calories": 380.5,
    "protein": 18.2,
    "fat": 15.1,
    "carbohydrates": 25.8
  },
  "_class": "com.busanit501.__team_back.domain.mongo.FoodReference"
}
```

### 필드 설명:
-   `_id`: MongoDB가 자동으로 생성하는 문서의 고유 ID.
-   `foodName`: 음식의 이름 (String). `findByFoodName` 쿼리에 사용될 키 필드입니다.
-   `nutritionData`: 음식의 영양 정보를 담고 있는 중첩 객체(Nested Object).
    -   `calories`: 칼로리 (Number)
    -   `protein`: 단백질 (Number)
    -   `fat`: 지방 (Number)
    -   `carbohydrates`: 탄수화물 (Number)
